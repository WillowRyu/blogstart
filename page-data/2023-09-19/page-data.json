{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023-09-19/","result":{"data":{"site":{"siteMetadata":{"title":"FE Factory"}},"markdownRemark":{"id":"9d20cec3-7e4e-5d47-a5ad-195b757a97bb","excerpt":"ë°”ì˜ë‹¤ ë°”ë¹  ì˜¤ëœë§Œì— ê¸€ì„ ì“°ëŠ” ê²ƒ ê°™ë‹¤. ì¼ë„ ë„ˆë¬´ ë°”ì˜ê³  í˜„ìƒì‚¬ëŠë¼ ë°”ë¹  ê¸€ì„ ë‚¨ê¸°ì§€ ëª»í–ˆì§€ë§Œ ê·¸ë˜ë„ ì¤‘ê°„ì¤‘ê°„ ê¸°ë¡ì´ í•„ìš”í•œ ê²ƒ ê°™ì•„ ê¸‰í•˜ê²Œ ê¸€ì„ ì ëŠ”ë‹¤. í˜„ì¬ íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” graphql ì„ ìœ„í•´ apollo client ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ stateâ€¦","html":"<p>ë°”ì˜ë‹¤ ë°”ë¹ <br>\nì˜¤ëœë§Œì— ê¸€ì„ ì“°ëŠ” ê²ƒ ê°™ë‹¤. ì¼ë„ ë„ˆë¬´ ë°”ì˜ê³  í˜„ìƒì‚¬ëŠë¼ ë°”ë¹  ê¸€ì„ ë‚¨ê¸°ì§€ ëª»í–ˆì§€ë§Œ<br>\nê·¸ë˜ë„ ì¤‘ê°„ì¤‘ê°„ ê¸°ë¡ì´ í•„ìš”í•œ ê²ƒ ê°™ì•„ ê¸‰í•˜ê²Œ ê¸€ì„ ì ëŠ”ë‹¤.</p>\n<p>í˜„ì¬ íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” graphql ì„ ìœ„í•´ apollo client ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—<br>\në³„ë„ì˜ state management ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤.</p>\n<p>state ê´€ë¦¬ê°€ í•„ìš”í• ë• rxjs ì˜ subject ë¥¼ í™œìš©í•˜ê±°ë‚˜<br>\nreact ìì²´ì—ì„œ ì œê³µí•˜ëŠ” useReducer ë¥¼ í™œìš©í•´ ê°„ë‹¨í•œ reducer ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í–ˆë‹¤.</p>\n<p>ì‚¬ì‹¤ í˜„ì¬ ì„œë¹„ìŠ¤ ê°œë°œì„ ì‹œì‘í•œì§€ ì˜¤ë˜ë˜ì—ˆê³ , ë‹¤ì–‘í•œ ì»¨ë²¤ì…˜ì´ ì¡´ì¬í•˜ì§€ë§Œ<br>\nstate ê´€ë¦¬ì— ëŒ€í•´ì„ ..í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•Šì•˜ë‹¤.</p>\n<p>ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ëŠ” apollo client ì˜ cache ë¡œ í•´ê²°ì´ ë˜ê³ , ê°„ë‹¨í•œê±´ ìœ„ì— ì ì—ˆë“¯<br>\nrx ë˜ëŠ” reducer ë¥¼ í™œìš©í–ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ..íŒ€ì›ì´ ëŠ˜ì–´ë‚˜ë©° ê°ê° ìì‹ ì˜ ì½”ë”© ìŠ¤íƒ€ì¼ì„ ì ‘ëª©í•˜ì—¬ state ë¥¼ ì²˜ë¦¬í•˜ê¸° ì‹œì‘í•˜ë‹ˆ<br>\nì´ê²Œ ì„œë¡œ ì•Œì•„ë³¼ ìˆœ ìˆì§€ë§Œ ì¼ê´€ì„±ì´ ì ì  ì‚¬ë¼ì§€ë‹ˆ í”¼ë¡œë„ê°€ ì¦ê°€í•˜ê¸° ì‹œì‘í–ˆë‹¤.</p>\n<p>ê° íŒ€ì›ì—ê²Œ ììœ ë„ë¥¼ ìµœëŒ€í•œ ì£¼ê³ , ì„œë¡œ í”¼ë“œë°±ì„ ì£¼ê³  ë°›ìœ¼ë©° ì ì  ë°œì „ì‹œì¼œê°€ê³  ì‹¶ì—ˆì§€ë§Œ<br>\nì´ì   ê²°ì •ì„ í•´ì•¼ í• ë•Œê°€ ë˜ì—ˆë‹¤.</p>\n<p>ë‹¤ì–‘í•œ state management ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¡´ì¬í•˜ì§€ë§Œ<br>\nì¼ë‹¨ ììœ ë„ê°€ ë†’ê³ , ì“°ê¸° ì‰¬ìš°ë©°, ì‘ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í–ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ê¸‰í•˜ê²Œ zustand, recoil, jotai ë“±ì„ ì‚´í´ë³´ê³ <br>\nê²°êµ­ jotai ë¥¼ ì¼ë‹¨ ë„ì…í•˜ê²Œ ë˜ì—ˆë‹¤.</p>\n<h2>Jotai</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/655ae10550419d7bb29fa3e984fba205/d698c/230919-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVQY03WQO2qGQBSFB3yA4jMkUfgLwV98iyaKjYuwE1yHNuJerO3sBV2MrZvIyUhACP9XXO7c4Zx7ZoggCGVZapomiqIsy7qua3+gf3sNbklVVfu+13XNcZyiKJZlBUHwpNi2/XHjnYLmk2KaJpmm6TzPYRh4nocYgi9KnudpmiZJEoZhHMdRFKFiWBSF67qO4xiGQY7j2Lat67orOcRZll36bwqOqJcMFXYPyq94nue+78dxXNe1bVu8BKtgjNjY4HmeewPWSI7MBoVIksSyrO/7y7I0TcMwDCIgv6qqyj8wvP/oD3GOPL6xJ3c1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Jotai\"\n        title=\"Jotai\"\n        src=\"/static/655ae10550419d7bb29fa3e984fba205/fcda8/230919-1.png\"\n        srcset=\"/static/655ae10550419d7bb29fa3e984fba205/12f09/230919-1.png 148w,\n/static/655ae10550419d7bb29fa3e984fba205/e4a3f/230919-1.png 295w,\n/static/655ae10550419d7bb29fa3e984fba205/fcda8/230919-1.png 590w,\n/static/655ae10550419d7bb29fa3e984fba205/efc66/230919-1.png 885w,\n/static/655ae10550419d7bb29fa3e984fba205/c83ae/230919-1.png 1180w,\n/static/655ae10550419d7bb29fa3e984fba205/d698c/230919-1.png 1846w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ì´ê¸€ì—ì„œ jotai ëŠ” ì–´ë–¤ ì² í•™ì´ ìˆê³ , ë™ì‘ì›ë¦¬ëŠ” ì–´ë–»ê³ , ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë¹„êµì‹œ<br>\nì–´ë–¤ì ì´ ì¢‹ë‹¤ ~~~ ë¼ëŠ” ê±¸ ì„¤ëª…í•˜ì§„ ì•ŠëŠ”ë‹¤.</p>\n<p>ê²€ìƒ‰ë§Œ í•˜ë©´ ê·¸ì— ëŒ€í•œê¸€ì´ ì•„ì£¼ ë§ìœ¼ë‹ˆ í•´ë‹¹ ê¸€ë“¤ì„ ì°¸ì¡°í•˜ì.<br>\nì´ê¸€ì—ì„œëŠ” ë‚˜ì²˜ëŸ¼ ë¹ ë¥´ê²Œ ê²°ì •í•˜ê³ , ë¹ ë¥´ê²Œ ì»¨ë²¤ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•œ ì‚¬ëŒì—ê²Œ ë„ì›€ì´ ë˜ê¸¸ ì›í•˜ë©°<br>\nì´ˆê¸° ì»¨ë²¤ì…˜ì˜ ëª¨ìŠµì„ ì ì–´ë³¼ê¹Œ í•œë‹¤.</p>\n<p>Jotai ëŠ” ì–´ë– í•œ í”„ë ˆì„ì›Œí¬ì—ë„ ì¢…ì†ë˜ì§€ ì•Šê³ , ììœ ë„ê°€ ë†’ê¸° ë•Œë¬¸ì—<br>\nì´ˆê¸° ì»¨ë²¤ì…˜ì„ ì •í•˜ë ¤ëŠ” íŒ€ ë˜ëŠ” ê°œì¸ì€ ê³ ë¯¼ì´ ì¡°ê¸ˆ ë  ìˆ˜ ìˆë‹¤.</p>\n<p>ì²˜ìŒë¶€í„° ì™„ë²½í•œ ì»¨ë²¤ì…˜ì€ ì—†ìœ¼ë‹ˆ ì°¨ì°¨ ë°œì „ì‹œì¼œ ê°€ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.</p>\n<h2>Convention</h2>\n<p>ë¯¸ë¦¬ ë§í•˜ì§€ë§Œ Jotai ë¥¼ ì ‘í•œì§€ ì–¼ë§ˆ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—<br>\nì˜ëª»ëœ ì ì´ ìˆë‹¤ë©´ ê¼­ ë§í•´ì£¼ë©´ ì¢‹ê² ë‹¤.</p>\n<p>íŠ¹ì • feature ë˜ëŠ” ì–´ë–¤ ë¶€ë¶„ì— ëŒ€í•´ store ë¥¼ í™œìš©í•˜ê³ ì í•œë‹¤ë©´<br>\ní•´ë‹¹ store ì˜ ë²”ìœ„ë¥¼ ì œí•œ í•  í•„ìš”ê°€ ìˆë‹¤.</p>\n<p>íŠ¹ì • Modal, Component ë˜ëŠ” íŠ¹ì • Container ì—ê²Œë§Œ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´<br>\nJotai ì—ì„œ ì œê³µí•´ì£¼ëŠ” Provider ë¥¼ ì‚¬ìš©í•˜ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">import { provider } from &quot;jotai&quot;\n\nexport const ProviderJotai = () =&gt; {\n  return &lt;Provider&gt;{children}&lt;/Provider&gt;\n}</code>\n        </deckgo-highlight-code>\n<p>ê·¸ëƒ¥ ì´ë ‡ê²Œ ê°ì‹¸ ì£¼ë©´ ëœë‹¤.<br>\nProvider ëŠ” react context ì™€ ê°™ì´ Provider ë‚´ë¶€ì˜ Atom ì€<br>\ní•´ë‹¹ ë¶€ëª¨ Provider ë¥¼ ê²½ê³„ë¡œ ë³„ë„ì˜ Atom ìœ¼ë¡œ ì‘ë™í•˜ê²Œ ëœë‹¤.</p>\n<p>ì´ ë¶€ë¶„ì€ ê³§ ë³€ê²½ í• í…Œë‹ˆ Provider ê°€ ì´ë ‡êµ¬ë‚˜ë§Œ ì•Œë©´ë˜ê³ <br>\nOK ê·¸ëŸ¼ Store ì˜ ê¸°ë³¸ìš”ì†Œë“¤, ì¦‰ Store, Actions, Selector ë¥¼ ì ìš©í•´ë³´ì.</p>\n<p>íŠ¹ì • ê¸°ëŠ¥ì—ì„œ ì‚¬ìš© í•  Container ì£¼ë³€ì— Store í´ë”ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤.<br>\ní•´ë‹¹ Store í´ë” ì•ˆ ê°œë³„ store í´ë”ë¥¼ ë§Œë“¤ê³  ë‚´ë¶€ì— Config í´ë”ë¥¼ ë§Œë“ ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  Config í´ë” ì•ˆ selector, actions, store ì´ë ‡ê²Œ 3ê°œì˜ íŒŒì¼ì„ ë§Œë“ ë‹¤.<br>\nê·¸ë¦¬ê³  Store í´ë”ì—ì„œëŠ” React ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€í›…ì„ ë§Œë“ ë‹¤.</p>\n<p>ëŒ€ëµì ì¸ í´ë” êµ¬ì¡°ë¥¼ ë³´ë©´</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0f26b20cd5f5437584b25cbca7ad4eeb/5595f/230919-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.756756756756754%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVQY03WQy26DMBBF8w0QHjY2ODwEdmzhCIySMSFpxRd000026ar//wWdZh2uNKvRmaO5O0opZwxun/5j1cfj5QLWWkJImqbklXQ7O0JpRqk5Df3olJTDMEgp96+EYRgEQZIkmzDuGGOcs6/HczzDyVrv/bquzrllWeZ5FkLEcfwexsmyjHPu4NpJ1TRN3/da66qqlFLGmDzPt+T/ZiSLovj++YXl7gHQPE0TygEAt1EUbcJYCXZWiIPURogDmuu6Lsuy67q2bfEjvIvyt/AfN0kvYDIgL9MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Str\"\n        title=\"Str\"\n        src=\"/static/0f26b20cd5f5437584b25cbca7ad4eeb/5595f/230919-3.png\"\n        srcset=\"/static/0f26b20cd5f5437584b25cbca7ad4eeb/12f09/230919-3.png 148w,\n/static/0f26b20cd5f5437584b25cbca7ad4eeb/e4a3f/230919-3.png 295w,\n/static/0f26b20cd5f5437584b25cbca7ad4eeb/5595f/230919-3.png 474w\"\n        sizes=\"(max-width: 474px) 100vw, 474px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ì´ë ‡ê°œ ì‚¬ìš©í•  Store ê°€ êµ¬ë¶„ë˜ê³ </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2e1e618df3c16d0fd15b5b56c7c7e863/e389b/230919-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz4WSQU+DQBCFe/PSNBQK7S4sFKRABcoCpVQoWmtqTOylN2OMiYlXvfkn/NW+bnowatt32s3sl/dmZluUUoMZhq5P0vx85I+EHMcJggAHVAeH1UJ5OBxalrV9eimyvFksFk1TFMVKCCVN0w7CuhCjtGdaZLk2h7bv+3Ecw1lVVbwghByDDcYck5E4GX988iSGeVVVsEVZUZRjzrueDYNQncgdKbtv376OLCPhaZ7nEyHXdQ/xexj2RFWU+aZbbbNJWMxmZVmmaZplmed5yP9v+D1MAfe63XrbuXsLHAswsOl0iubDMDwRm+o6nOV8LZWbyB/NLyvEhjMXOgkbRJGk68f2w3sWBYCnQlghZkaEDsN056zwpcRXnmMnnF8IMcZkWe4J/R2bgJmJhnthefb85XrBVbNAq03T1HWNzrEzbA7X8Xj8i9/BWPVAU/uW2+U3puNynuCHgI+iCB8GA0MEkLZt9/v9n/A3VeZff8aw5goAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Str2\"\n        title=\"Str2\"\n        src=\"/static/2e1e618df3c16d0fd15b5b56c7c7e863/e389b/230919-2.png\"\n        srcset=\"/static/2e1e618df3c16d0fd15b5b56c7c7e863/12f09/230919-2.png 148w,\n/static/2e1e618df3c16d0fd15b5b56c7c7e863/e4a3f/230919-2.png 295w,\n/static/2e1e618df3c16d0fd15b5b56c7c7e863/e389b/230919-2.png 462w\"\n        sizes=\"(max-width: 462px) 100vw, 462px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ë‚´ë¶€ì—ëŠ” ì„¤ì •ê³¼ ì‚¬ìš©í•  react hook ì´ ì¡´ì¬í•œë‹¤.<br>\në§Œì•½ React ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´<br>\ní•´ë‹¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ì‚¬ìš©í•  Store ì‹œì‘ì  í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‘ì.</p>\n<blockquote>\n<p>ì´ë ‡ê²Œ í•˜ë©´ Config ë‚´ë¶€ëŠ” ë‹¤ë¥¸ ì–´ë–¤<br>\ní”„ë ˆì„ì›Œí¬ ì—ì„œë“  ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.</p>\n</blockquote>\n<p>ì—¬ê¸°ì„œ ê°„ë‹¨í•œ Store ë¡œ ì˜ˆë¥¼ ë§Œë“¤ë©´</p>\n<p>ë¨¼ì € Store íŒŒì¼ì„ ë³´ì.<br>\n(ëª¨ë¸ì˜ íƒ€ì…ì´ë‚˜ ì´ë¦„ì€ ì‹ ê²½ì“°ì§€ ë§ì)</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// store.ts\nimport { atom } from &quot;jotai&quot;\n\nexport interface TestStoreModel {\n  marker?: string;\n  sheetShow: boolean;\n  region: number;\n}\n\nconst initialTestStoreProp: TestStoreModel = {\n  sheetShow: false,\n  region: 0,\n  marker: &quot;test&quot;,\n}\n\nconst TestStoreAtom = atom &lt; TestStoreModel &gt; initialTestStoreProp\n\nexport const TestStoreInfo = {\n  store: TestStoreAtom,\n  initialTestStoreProp,\n}</code>\n        </deckgo-highlight-code>\n<p>Store ì—ì„œëŠ” í•´ë‹¹ Storeì˜ Atom ê³¼ ì´ˆê¸° ê°’ì„ ì •ì˜í•´ì¤€ë‹¤.<br>\në‹¤ìŒìœ¼ë¡œ actions ì„ ë³´ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// actions.ts\nimport { TestStoreInfo } from &quot;./store&quot;\nimport { atom } from &quot;jotai&quot;\n\nconst onChangeRegion = atom(null, (_, set, region: number) =&gt; {\n  set(TestStoreInfo.store, prev =&gt; ({\n    ...prev,\n    region,\n  }))\n})\n\nconst onChangeMarker = atom(null, (_, set, marker: string) =&gt; {\n  set(TestStoreInfo.store, prev =&gt; ({\n    ...prev,\n    marker,\n  }))\n})\n\nconst onToggleBottomSheetShow = atom(null, (get, set) =&gt; {\n  set(TestStoreInfo.store, prev =&gt; ({\n    ...prev,\n    sheetShow: !prev.sheetShow,\n  }))\n})\n\nexport const TestStoreActions = {\n  onChangeMarker,\n  onToggleBottomSheetShow,\n  onChangeRegion,\n}</code>\n        </deckgo-highlight-code>\n<p>í•´ë‹¹ Store ì—ì„œ ì‚¬ìš©í•  Action ë“¤ì„ ì •ì˜í•´ë‘”ë‹¤.<br>\në§ˆì§€ë§‰ìœ¼ë¡œ selector ë¥¼ ë³´ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">import { TestStoreModel } from &quot;./store&quot;\n\nexport const MainMapStoreSelector = {\n  sheetShow: (store: TestStoreModel) =&gt; store.sheetShow,\n  region: (store: TestStoreModel) =&gt; store.region,\n  marker: (store: TestStoreModel) =&gt; store.marker,\n}</code>\n        </deckgo-highlight-code>\n<p>store ì—ì„œ selector ë¡œ ì‚¬ìš©í•  ë¶€ë¶„ì„ ì •ì˜í•œë‹¤.</p>\n<p>jotai ëŠ” ììœ ë„ê°€ ì•„ì£¼ ë†’ê¸° ë•Œë¬¸ì—\nactions ë‚˜ selecor ëª¨ë‘ ë‹¤ì–‘í•˜ê²Œ ë³€í˜• ì‹œí‚¬ ìˆ˜ ìˆë‹¤.<br>\nìœ„ ì˜ˆì œëŠ” ì •ë§ì •ë§ ê°„ë‹¨í•œ ë¶€ë¶„ë§Œ ì •ì˜í–ˆê¸° ë•Œë¬¸ì—<br>\nì‚¬ìš©í• ë•ŒëŠ” ê°ì í•„ìš”í•œ ë§Œí¼ ì»¤ìŠ¤í…€ í•´ì„œ ì‚¬ìš©í•˜ì.</p>\n<h2>React ì—ì„œ ì‚¬ìš©í• ë•Œ?</h2>\n<p>ì´ì œ selector, store, actions ë¥¼ ì¡°í•©í•˜ì—¬ React ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡<br>\nì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ì–´ë³´ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// use-test-store-hook.ts\nimport { TestStoreActions } from &quot;./config/actions&quot;\nimport { TestStoreSelector } from &quot;./config/selector&quot;\nimport { TestStoreInfo } from &quot;./config/store&quot;\n\nexport const useTestStore = () =&gt; {\n  const { store, initialTestStoreProp } = TestStoreInfo\n\n  return {\n    store,\n    actions: TestStoreActions,\n    selector: TestStoreSelector,\n    initialTestStoreProp,\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>ì´ì œ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ ì—ì„œë„ useTestStore ë¥¼ í™œìš©í•˜ì—¬ TestStore ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\në§Œì•½ ì—¬ëŸ¬ Store ë¥¼ ë§Œë“¤ì–´ì„œ í™œìš©í•˜ê³  ì‹¶ë‹¤ë©´?<br>\në‹¤ë¥¸ Config ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ í•´ë‹¹ Hook ì— í¬í•¨í•˜ë©´ ëœë‹¤.<br>\nì´ëŸ°ì‹ìœ¼ë¡œ</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">export const useTestContainerStore = () =&gt; {\n  const { store: testStore, initialTestStoreProp } = TestStoreInfo\n  const { store: modalStore, initialModalStoreProp } = ModalStoreInfo\n\n  return {\n    store: {\n      test: testStore,\n      modal: modalStore,\n    },\n    actions: {\n      test: TestStoreActions,\n      modal: ModalStoreActions,\n    },\n    selector: {\n      test: TestStoreSelector,\n      modal: ModalStoreSelector,\n    },\n    initialTestStoreProp,\n    initialModalStoreProp,\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>ê³„ì† í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\nì‹¤ì œë¡œ ì‚¬ìš©í• ë•ŒëŠ” ì–´ë–¤ì‹ìœ¼ë¡œ ì“¸ê¹Œ</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">export const TestComponent = () =&gt; {\n  const { store, actions, selector } = useTestStore()\n\n  // Selector ì˜ˆì œ\n  const marker = useAtomValue(\n    selectAtom(store.testStore, selector.testStore.marker)\n  )\n  const sheetShow = useAtomValue(\n    selectAtom(store.modalStore, selector.modalStore.sheetShow)\n  )\n\n  // actions ì˜ˆì œ\n  const onToggleSheetShow = useSetAtom(\n    actions.testStore.onToggleBottomSheetShow\n  )\n  const onChangeMarker = useSetAtom(actions.modalStore.onChangeMarker)\n\n  return (\n    &lt;div&gt;\n      {marker}\n      {sheetShow}\n\n      &lt;ContainedButton\n        onClick={() =&gt; onChangeMarker(&quot;ë‹¹ê·¼&quot;)}\n        children=&quot;Marker Actions&quot;\n      /&gt;\n      &lt;ContainedButton onClick={onToggleSheetShow} children=&quot;sheetShow&quot; /&gt;\n    &lt;/div&gt;\n  )\n}</code>\n        </deckgo-highlight-code>\n<p>ê·¸ëƒ¥ ì´ë ‡ê²Œ ì›í•˜ëŠ” Store ì—ì„œ ì›í•˜ëŠ” selector ì™€ action ì„ ê°€ì ¸ë‹¤<br>\nì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>\n<h2>Provider ëŠ”?</h2>\n<p>ì´ì œ ë‹¤ì‹œ Provider ë¥¼ ì‚´í´ë³´ì.<br>\nì–´ì¨Œë“  Atom ì€ React ì˜ life cycle ì™¸ë¶€ì— ì •ì˜í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—<br>\nê¸°ë³¸ì ìœ¼ë¡œ Global ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.</p>\n<p>ì´ë ‡ê²Œ ë˜ë©´ í”„ë¡œì íŠ¸ê°€ ì»¤ì§ˆìˆ˜ë¡ ì¶”ì ì´ í˜ë“¤ê³  ê³µìœ  ì»´í¬ë„ŒíŠ¸ë‚˜ ê¸°ëŠ¥ì—ì„œ<br>\nê°™ì€ Store ë¥¼ ì‚¬ìš©í•˜ê¸° í˜ë“¤ë‹¤.</p>\n<p>ì´ì œ Provider ë¡œ ê²½ê³„ë¥¼ ë§ì¶°ì£¼ë©´ ë˜ê¸´ í•˜ëŠ”ë°, ì´ì™• ê°ì‹¸ëŠ”ê±°<br>\në‹¤ì–‘í•œ Store ì™€ ì´ˆê¸° ê°’ì„ ë„£ì–´ ì¤„ ìˆ˜ ìˆë„ë¡ Util ì„ ë§Œë“¤ì–´ ë³´ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">import { PropsWithChildren, ReactNode } from &#39;react&#39;;\nimport { Provider, WritableAtom } from &#39;jotai&#39;;\nimport { useHydrateAtoms } from &#39;jotai/utils&#39;;\n\ntype AnyWritableAtom = WritableAtom&lt;unknown, any[], any&gt;;\nexport type AtomTuple&lt;A = AnyWritableAtom, V = unknown&gt; = readonly [A, V];\n\ninterface ProviderByJotaiProps {\n  store: AtomTuple[];\n}\n\ntype HydrateAtomsWithInitial = {\n  children: ReactNode;\n};\n\nexport function ProviderByJotai({ store, children }: PropsWithChildren&lt;ProviderByJotaiProps&gt;) {\n  const HydrateAtoms = ({ children }: HydrateAtomsWithInitial) =&gt; {\n    useHydrateAtoms([...store]);\n    return children;\n  };\n\n  return (\n    &lt;Provider&gt;\n      &lt;HydrateAtoms&gt;{children}&lt;/HydrateAtoms&gt;\n    &lt;/Provider&gt;\n  );\n}</code>\n        </deckgo-highlight-code>\n<p>ì´ë ‡ê²Œ Provider ë¥¼ ë§Œë“¤ë©° ì‚¬ìš©í•˜ê³  ì‹¶ì€ Store ë¥¼ ì£¼ì… ë°›ëŠ”<br>\nProvider Util ì„ ë§Œë“¤ì—ˆë‹¤.</p>\n<p>ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë ¤ë©´</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">export const TestComponent = ({ children }: PropsWithChildren&lt;unknown&gt;) =&gt; {\n  const { store, initialTestStoreProp, initialModalStoreProp } = useTestStore()\n\n  return (\n    &lt;ProviderByJotai\n      store={[\n        [store.testStore, initialTestStoreProp],\n        [store.modalStore, initialModalStoreProp],\n      ]}\n    &gt;\n      {children}\n    &lt;/ProviderByJotai&gt;\n  )\n}</code>\n        </deckgo-highlight-code>\n<p>ì´ëŸ°ì‹ìœ¼ë¡œ Provider ì— ì›í•˜ëŠ” Store ì™€ ì´ˆê¸° ê°’ì„ ë°°ì—´ë¡œ ë„£ì–´ ì¤„ ìˆ˜ ìˆë‹¤.<br>\nì´ì œ testStore ì™€ modalStore ëŠ” í•´ë‹¹ children ì•ˆì—ì„œ global ì´ ì•„ë‹ˆê³ \në³„ë„ë¡œ ì‘ë™í•˜ê²Œ ëœë‹¤.</p>\n<h2>Utilì„ ì¢€ ë” ë§Œë“¤ì–´ë³´ì</h2>\n<p>ì—¬ê¸°ì„œ ëª‡ê°€ì§€ Util ì„ ì¶”ê°€ í•´ë³´ì.<br>\njotai ì˜ í™ˆí˜ì´ì§€ì—ë„ ìˆëŠ” useSelectAtom, useSplitAtom ì„ ì¶”ê°€í•˜ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// use-select-atom.ts\nimport { Atom, useAtomValue } from &quot;jotai&quot;\nimport { selectAtom } from &quot;jotai/utils&quot;\n\nexport const useSelectAtom = &lt;T, Slice&gt;(\n  anAtom: Atom&lt;T&gt;,\n  keyFn: (v: T, prevSlice?: Slice) =&gt; Slice\n) =&gt; {\n  return useAtomValue(selectAtom(anAtom, keyFn))\n}\n\n/// useAtomValue(selectAtom(store, selector.marker)) í•´ë‹¹ ë¶€ë¶„ì„\n/// useSelectAtom(store, selector.marker) ì´ë ‡ê²Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.</code>\n        </deckgo-highlight-code>\n<p>SplitAtom ì€ ë°°ì—´ ë‚´ë¶€ì— ìˆëŠ” ê°’ë“¤ì„ ë³„ë„ì˜ Atom ìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬<br>\nê°œë³„ì ìœ¼ë¡œ ì‘ë™í•˜ë„ë¡ ë§Œë“œëŠ” ê¸°ëŠ¥ì´ë‹¤.<br>\në°°ì—´ ë‚´ë¶€ì˜ ê°’ í•˜ë‚˜í•˜ë‚˜ì— ë³„ë„ë¡œ ë™ì‘í•˜ëŠ” ë Œë”ë§ì„ ì£¼ê³  ì‹¶ì„ë•Œ ì•„ì£¼ ì¢‹ì€ ê¸°ëŠ¥ì´ë‹¤.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// use-split-atom.ts\nimport { PrimitiveAtom, useAtom } from &quot;jotai&quot;\nimport { splitAtom } from &quot;jotai/utils&quot;\n\nexport const useSplitAtom = &lt;Item&gt;(anAtom: PrimitiveAtom&lt;Array&lt;Item&gt;&gt;) =&gt; {\n  return useAtom(splitAtom(anAtom))\n}</code>\n        </deckgo-highlight-code>\n<p>ìœ„ 2ê°œì˜ ê¸°ëŠ¥ì€ ì–´ì§œí”¼ Jotai í™ˆí˜ì´ì§€ì— ë‚˜ì™€ìˆë‹¤.<br>\nê°€ì ¸ë‹¤ ì¼ì„ ë¿ì´ê³ ..</p>\n<p>ì‹¤ì œë¡œ ê·€ì°®ì€ ë¶€ë¶„ì€ ë”°ë¡œ ìˆì—ˆë‹¤.<br>\naction ì„ ì‚¬ìš©í• ë•Œ</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// action ì„ ì‚¬ìš©í• ë•Œ useSetAtom ìœ¼ë¡œ ê°ì‹¸ì•¼ í•œë‹¤.\nconst onToggleSheetShow = useSetAtom(actions.testStore.onChangeMarker)</code>\n        </deckgo-highlight-code>\n<p>action ì‚¬ìš©ì‹œ useSetAtom ì„ ì ì–´ì£¼ê¸° í˜ë“¤ë‹¤. ì•„ë‹ˆ ê·€ì°®ë‹¤.<br>\nì–´ì§œí”¼ hook ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤ë©´ actions ì— ì •ì˜í•œ í•¨ìˆ˜ë¥¼ useTestStore ì—ì„œ<br>\në¯¸ë¦¬ ì§€ì •í•´ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.</p>\n<p>ê·¸ë˜ì„œ createActions ë¥¼ ë§Œë“¤ì—ˆë‹¤.ğŸ¤¡</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// jotai-create-actions\nimport { ExtractAtomArgs, WritableAtom, useSetAtom } from &#39;jotai&#39;;\n\ntype WithInitialValue&lt;Value&gt; = {\n  init: Value;\n};\n\ntype actionsType&lt;T&gt; = {\n  [k in keyof T]: WritableAtom&lt;null, ExtractAtomArgs&lt;T&gt;, void&gt; &amp; WithInitialValue&lt;null&gt;;\n};\n\ntype WrappedActions&lt;T&gt; = {\n  [K in keyof T]: ReturnType&lt;typeof useSetAtom&lt;null, ExtractAtomArgs&lt;T[K]&gt;, void&gt;&gt;;\n};\n\nexport const jotaiCreateActions = &lt;T&gt;(actions: actionsType&lt;T&gt;) =&gt; {\n  return {\n    ...(Object.fromEntries(\n      Object.entries(actions).map(([key, action]) =&gt; {\n        return [\n          key,\n          useSetAtom(\n            action as WritableAtom&lt;null, ExtractAtomArgs&lt;T&gt;, void&gt; &amp; WithInitialValue&lt;null&gt;,\n          ),\n        ];\n      }),\n    ) as WrappedActions&lt;T&gt;),\n  };\n};</code>\n        </deckgo-highlight-code>\n<p>actions ë¥¼ ëŒë©´ì„œ ìë™ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ useSetAtom ìœ¼ë¡œ ê°ì‹¸ì¤€ë‹¤.\nì´ì œ useTestStore í›…ì—ì„œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì£¼ì.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">// ...\nreturn {\n  store: {\n    test: testStore,\n    modal: modalStore,\n  },\n  actions: {\n    test: jotaiCreateActions &lt; typeof TestStoreActions &gt; TestStoreActions,\n    modal: jotaiCreateActions &lt; typeof ModalStoreActions &gt; ModalStoreActions,\n  },\n  selector: {\n    test: TestStoreSelector,\n    modal: ModalStoreSelector,\n  },\n  initialTestStoreProp,\n  initialModalStoreProp,\n}\n// ...</code>\n        </deckgo-highlight-code>\n<p>ì´ë ‡ê²Œ í•´ë‘ë©´ ì´ì œ ì‚¬ìš©í• ë•Œ useSetAtom ìœ¼ë¡œ ê°ìŒ€ í•„ìš”ê°€ ì—†ë‹¤.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">const { actions } = useTestStore()\n// actions ì˜ˆì œ\nconst onToggleSheetShow = actions.testStore.onToggleBottomSheetShow()\nconst onChangeMarker = actions.modalStore.onChangeMarker()</code>\n        </deckgo-highlight-code>\n<p>ì•„ ê·€ì°®ì€ ë¶€ë¶„ì„ ì¡°ê¸ˆì”© ì§€ì›Œë‚˜ê°€ê³  ìˆìœ¼ë‹ˆ ì†ì´ ì‹œì›í•˜ë‹¤.<br>\nJotai ì˜ ì¥ì ì´ë‹¤. ììœ ë„ê°€ ë›°ì–´ë‚˜ê¸° ë•Œë¬¸ì— util ì´ë‚˜ custom hook ì„<br>\nì–´ë–¤ì‹ìœ¼ë¡œ ë§Œë“¤ì§€ëŠ” ì‚¬ìš©ìì˜ ì†ì— ë‹¬ë ¤ìˆë‹¤.</p>\n<p>ì¶”ê°€ë¡œ ì‚´í´ ë³¼ ìœ ìš©í•œ Util ì€<br>\nfocusAtom ê³¼ atomWithObservable ì´ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ì¤‘ì²© Provider ì‚¬ìš©ì‹œ ìœ ìš©í•œ jotai-molecules.<br>\nëª¨ë‘ ì„¤ëª…í•˜ê¸°ì—” í˜ë“œë‹ˆ, ì‚¬ìš©ë²•ì„ ë³´ê³  ê¼­ ì ìš©ì‹œì¼œë³´ê¸¸.</p>\n<p>ìœ„ ì»¨ë²¤ì…˜ì€ Jotai ë¥¼ ì²˜ìŒ ë„ì…í• ë•Œ ë„ì›€ì´ ë˜ê¸¸ ë°”ë¼ëŠ” ì´ˆê¸° ì»¨ë²¤ì…˜ ì´ë©°,<br>\nì—¬ê¸°ì„œ util ì„ ë” ì¶”ê°€í•˜ê³ , ë¶ˆí¸í•œ ë¶€ë¶„ì€ ìˆ˜ì •í•˜ë©´ì„œ<br>\nê°ìì˜ í”„ë¡œì íŠ¸ì— ë§ê²Œ ë³€í˜•í•´ì„œ ë”ìš± íš¨ìœ¨ì ì´ê³  í¸í•˜ê²Œ í™œìš©í•´ë³´ë©´ ëœë‹¤.</p>\n<p>ê¸€ì„ ì§§ê²Œ ì“°ë ¤ í–ˆëŠ”ë° ì“°ë‹¤ë³´ë‹ˆ ë§ì•„ì¡Œë‹¤.<br>\ní•˜ê³  ì‹¶ì€ ë§ì´ ë” ë§ì§€ë§Œ ì´ê²ƒë„ ì¤„ì´ê³  ì¤„ì˜€ë‹¤.</p>\n<blockquote>\n<p>í˜¹ì‹œë‚˜ ì˜ëª»ëœ ë¶€ë¶„ì´ë‚˜ ì˜¤íƒ€ê°€ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.ğŸ¥¹</p>\n</blockquote>\n<p>ê·¸ëŸ¼ ì†ê°€ë½ì´ ì•„íŒŒì„œ ì´ë§Œ.ğŸ¥¹</p>","frontmatter":{"title":"Jotai ì‚¬ìš©, ì‰½ê³  ë¹ ë¥¸ Convention","date":"September 19, 2023","description":"Jotai ë¥¼ ì´ì œ ë„ì…í•œë‹¤ë©´?"}}},"pageContext":{"slug":"/2023-09-19/","previous":{"fields":{"slug":"/2022-11-28/"},"frontmatter":{"title":"MFE ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì „í™˜"}},"next":{"fields":{"slug":"/2023-11-25/"},"frontmatter":{"title":"Tailwindcss with MFA"}}}},"staticQueryHashes":["2841359383","3490846071"]}