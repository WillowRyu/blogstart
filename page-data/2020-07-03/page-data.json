{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-07-03/","result":{"data":{"site":{"siteMetadata":{"title":"FE Factory"}},"markdownRemark":{"id":"e8497aca-ccba-559d-ad20-b82d52db1310","excerpt":"디자인 시스템 없이 Flutter 를 사용하는 대부분의 개발자들이 Material Design 을 많이 사용할 것 으로 본다.   그 중 DatePicker 같은 경우 cupertino 와 Material 의 차이가 가장 많이 나는 위젯 중 하나라고 볼 수 있다.  Material…","html":"<p>디자인 시스템 없이 Flutter 를 사용하는 대부분의 개발자들이 Material Design 을<br>\n많이 사용할 것 으로 본다.  </p>\n<p>그 중 DatePicker 같은 경우 cupertino 와 Material 의 차이가<br>\n가장 많이 나는 위젯 중 하나라고 볼 수 있다. </p>\n<p>Material 에서는 달력 자체가 나타나는 반면, cupertino 에서는 bottom bar 가 나타나며<br>\n선택하는 모양으로 표현했다. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2bea3a5c000b5a3e1a26e37e956dadea/8574c/material-date-picker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 141.2162162162162%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAADKElEQVQ4y6VU60uTYRTfHxKhhWSgplJEVGIRBRKUqBlRDJegwS4woQgC+9gNamozjCxNo6ZtWmC6PvrNbxHVZm5zqcxd3d775Xnft/O8zzbdvCUdDmfnufzO7zznnL0Gu91u6bpj7rq7J7V13QagwWaznXo4V9W3erT3T23PUrUDa43uHNG1ulBrHOGK3ljD/Y92c4fBarHUPvHVDil1b7mql9yBPrZU1zInV/6CO9RfrOVO5uCAerb7s+3WTYPVajn2+EeDS7zuoU++powT7A0Pc/E9fWaYbhlnGj/QFf3URq10pg8PSOe6J62dGGytfPCzelCqH6JPDzHnR5nmcbbhHXN8kL4wytQPM/ufZUocVEkPTbTUkdn3XK67N2nrNGHm1le/Gj2o0cU0jbGXXOxlF9fsllrc4tUJqdUjgl5xC3BEtGWMaZpQrz36ZO4wGSwWy+LioqZpkiRquoATjawk47HVyMoa/EQja6mklhNR4MF6Z2ZMpiw4rCgqL+TBKBqLxeOJaDSWTKbAzVCUqmqqfsqwLNjpPDgYCsEaKQpCSJZl8BUV34SIYFUimiYjRCwGT0/nmXHaBCkIAvgkBPiwCUBFUcgFPS8J7EyeOaQzkxs7CLlA4q4zbwdW1YIlSYrjuF2Y9Tdm7UYnf22dORwOQzKiKIJlGAbO0uk0WJqmYQeeyvM82YQorF5tr9fb1ta2lzdruFvFzFBtiAfM8CoSOJVKAQlkAUu4nUgkcIfTSah7Op2BnWJm0hXyvGy3dSFH0PLvEZ6V8DAUFAyYkS5ATlEUnFF4pFR4M88LElI0iXX75DIn/XRORjytbn4zGRJSG9IPsLiKAEbC1xA68YYb/CarIlvMrORmc2MzYZhgB45IIZYSNGRPoheAIUNSMNKkeDxOCkb6B0tcxWQCZh5quUXBdm3V1kPyLxOm5pao6F/1X8yBQICUB20SGM4EIy+nZbCqgkQJRTL4m/FlagqD4QO4M3NM0AKUlsBN0GRFW2YUMttZ8OzsbDAY9Pl8/q0k8NsfWsAWZN7vX5j3QXdGRkba29sxGGJc3V5ac5pfghiNRrPZ/Beoq0Uf6gHpFgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"material-date-picker\"\n        title=\"material-date-picker\"\n        src=\"/static/2bea3a5c000b5a3e1a26e37e956dadea/8574c/material-date-picker.png\"\n        srcset=\"/static/2bea3a5c000b5a3e1a26e37e956dadea/12f09/material-date-picker.png 148w,\n/static/2bea3a5c000b5a3e1a26e37e956dadea/e4a3f/material-date-picker.png 295w,\n/static/2bea3a5c000b5a3e1a26e37e956dadea/8574c/material-date-picker.png 436w\"\n        sizes=\"(max-width: 436px) 100vw, 436px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 517px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b62240fc84274a90b06bbdf49a50f359/fa2f5/cupertino-date-picker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVQ4y42T3WoaURDHz15IRShqENKASLASpOBWFHwQZUUJwSUPoHilN37cG8hFc9EHyF7YFpJ38UZQU1ALIpFkVVy/9kzOjLtgi0kz8Gdm58z5nZmzu+z01M+OjtxhRcno19ffodG44VdXN/AeNRrfOO7JZM6N42OffHb2mTGfz8tcrg/hi4uc3mzewe3tD65pP0HTfsHOvy6sbTbvQVUvDbf7o+z3nzDbwuVyWYedcXi/UW2tVjMEQ2Z7Fi6VSgQ0TZOvVitYLpdgGAZgzDknL9Yoj892Lfpqtfo2cLFYwGw2I83ncwKh32w2lNtutxQLEbBSqbwOxDHG4zG0223o9XrQ7XYJOBqNAA/qdDqg6zq0Wi3MvQl8tjo0cTzsZDqdCr/rEMe3O0T/9PSMuf8Dxf2Y6/WaI8AWAkWOQPiMd4jjitHtO1z8C/xiv2VRhE2aYoOJDR8SGh5s1XDrpXzdB/oURXkQ9tc3geP1+30YDockjPEa9m0wGEA2m/0jGLuPMJVKSfV6nQWDwVQymewWi8VJPp9/RK+q6kSsT8RhJIxzudwE1wqFAtWI3O9QKJTVNI2l02mJJRIJhEniMOR/slqXbTmdTtnhcJAw3l+zak9wbyAQkGKxGCNgNBqlTtkB83rx13SRPB7PoRImupcikQiLx+PsBa2FabizEZULAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cupertino-date-picker\"\n        title=\"cupertino-date-picker\"\n        src=\"/static/b62240fc84274a90b06bbdf49a50f359/fa2f5/cupertino-date-picker.png\"\n        srcset=\"/static/b62240fc84274a90b06bbdf49a50f359/12f09/cupertino-date-picker.png 148w,\n/static/b62240fc84274a90b06bbdf49a50f359/e4a3f/cupertino-date-picker.png 295w,\n/static/b62240fc84274a90b06bbdf49a50f359/fa2f5/cupertino-date-picker.png 517w\"\n        sizes=\"(max-width: 517px) 100vw, 517px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>둘 중 원하는 뭘 선택해도 되지만, 여기서는 cupertino 의 date picker 를 살펴보자.<br>\ncupertino 의 date picker 를 사용할 경우\nonDateTimeChanged 라는 콜백함수로<br>\n날짜 데이터 변경을 알 수 있다.</p>\n<p>여기에 날짜를 변경 한 뒤 사용자가 직접 제어할 수 있도록<br>\ncancel 과 done 기능을 추가해보자.</p>\n<h3>Init Project</h3>\n<p>일단 신규 프로젝트에서 cupertino date picker 를 불러오는 버튼을\n설정 하자.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          brightness: Brightness.light,\n          backgroundColor: Colors.transparent,\n          elevation: 0.0,\n          title: Text(\n            &#39;Cupertino Date Picker&#39;,\n            style: TextStyle(\n              color: Colors.black,\n            ),\n          ),\n        ),\n        body: SafeArea(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.center,\n            children: [\n              Center(\n                child: CupertinoButton(\n                  child: Text(\n                    &#39;OPEN DATE PICKER&#39;,\n                    textAlign: TextAlign.center,\n                  ),\n                  onPressed: () {},\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );</code>\n        </deckgo-highlight-code>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 314px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22d2be84ec0b5245a7aaac3c3c763bc1/5b158/date-picker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 214.86486486486487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAIAAAD3xz8iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEEElEQVRIx52W+08jVRTHbwzrKoWCfUwftDMdZvoubSn0waMLRZZE2ZWN7q6vmGj8zfgH+INR/wR/hI1uNDH+pDGFlvUn6WNFXdhklxZiqAIhrLW1ZSUppTN94Gmn1C5ghDn55uTO9HzmnHvu3DtF1l5nb5+7t88FvsfWZ7X3gweZLL12h2t84sUhrw9uujzD3pExR78HwgaHR90DXqPZjlwuz+iI79Iln29s3OnyuD1DIKdroMfmcLkH33jzralrL/f1uy9PvHDj5uvD3tGBQe/1G69euTrVY7UjCeUWk84OpalVSgsVRglh4yTV2DDSLsatEsJavSRsIpWlHdO1KwwdXWYR4ehQO5BAPynAtE6Pd3Lq+tDIuESuxpREVQocJD2SWKZSqEjfxKS3f8Bisl6UGp5SjyGBwvLRhx/8mUzGY7F0OuUbHWlvE2CYVCoRc8KkErkMa332mXffebtYKi58+82tTz5+7eYrLTI7UpLm2MqDUrmyublZLpd3dnZCoVA0Go1EouFwOHr3biQSCYcjcCeTybIMm8ru/haLffr+exfENNIYHPHYw8PDw1LN0ul0MplMpVLgs9ndra0t7g48NJfLQQDLMBD83ddftXRokEbfy8EHBwfFYhEev55IQBUbG5uPHv2RSCS2t7eBXF9f39vbAzifz0Pw93eCLZ0aRGmNMFu4LhQKLMtC5TCuVCrNnhvAoyEAcsB4Pjh7AeBunSUeW2nATM0KNWuMG74B3wnOPS3qRqShXjYH/6814IsiElG6J8o+O9wqUiOaLywAmNL3NM/5jPB8cK5NDJm1eh6ZazCOKIqKx+PnhgOzApkOEQS5ygtukxsRDvAqH7gdYELTzatsv1BpQmQ3zW/O7Qojomh9PB7jDetOwkzTgPlP2IBI8vhSwd4pF9lS8V8PKp6amXiy2xCUL7CZHPt3nn28X9VurqoCc6JhXWaE40QzDKn28uyvfzFbu8xGltl+zPyeYRIZJndQT87BwYAfztBTug17vlKqVVuqCy5PK1t/+hsG257h/JGONSwYmBVCw46VfcalqpVtQgRlWOW1zkKlEZF6K4/9XG+Y1uKEQ//c8Jy/U2VGuh4XHzjg7+SfmZszbeqLrzzk0zBYKsro4HFu12Gt2RE7f+baS6JHRos9xq9suQ6RlJbnYQCwSo3zej1n2zAKqdX42toa931mjuwk0/hpf3+/+n2eD1RhCSb/+adF7p/B4ZGVSuUmgZWbfqqGffnF7VYJiYQy+qWrV8Kh0PLS0r17v9y/v7yw8MPM9PStmemZGfDgpm9//tni4o/Ly7WA5aXAnN/tdmPaISQzPd/ZZRLJVEqcVuIUeJVGp6GNGtpEas0ggjKCughtLYBWkbrnMFzS7VI5rv0DXIu4pK4ZNZAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"date-picker\"\n        title=\"date-picker\"\n        src=\"/static/22d2be84ec0b5245a7aaac3c3c763bc1/5b158/date-picker.png\"\n        srcset=\"/static/22d2be84ec0b5245a7aaac3c3c763bc1/12f09/date-picker.png 148w,\n/static/22d2be84ec0b5245a7aaac3c3c763bc1/e4a3f/date-picker.png 295w,\n/static/22d2be84ec0b5245a7aaac3c3c763bc1/5b158/date-picker.png 314w\"\n        sizes=\"(max-width: 314px) 100vw, 314px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Cupertino DatePicker 같은 경우 해당 DatePicker 를 보여주고\n말고는 위젯 자체를 숨기거나 보여주거나 해야 한다.</p>\n<p>(Scaffold 에서 지원하는 게 아닌 datepicker 위젯을 만들어두고\n해당 위젯을 보여줄 지 말지 직접 컨트롤 해야 한다.)</p>\n<p>이를 위해 일단 Cupertino DatePicker 위젯을 별도로 만들자.</p>\n<h3>Create Cupertino Date Picker</h3>\n<blockquote>\n<p><code class=\"language-text\">/lib/date_picker.dart</code></p>\n</blockquote>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">  import &#39;package:flutter/cupertino.dart&#39;;\n\nclass CuDatePicker extends StatelessWidget {\n  const CuDatePicker({Key key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return CupertinoDatePicker(\n      initialDateTime: DateTime.now(),\n      maximumDate: new DateTime.now(),\n      minimumYear: 2018,\n      maximumYear: 2020,\n      mode: CupertinoDatePickerMode.date,\n      onDateTimeChanged: (DateTime value) {},\n    );\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>(date picker 에 들어간 설정은 이름만 봐도 뭘 하는건지<br>\n알 수 있으리라 생각한다.)  </p>\n<p>만들어진 DatePicker 를 메인화면에 적용해보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 305px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f73cb836d7a74671adda62f30c563e7a/a3e09/cu-datepicker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 206.08108108108104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAApCAIAAAC6D54pAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6ElEQVRIx7WVS08TURTHJ8GEKAiERxEoFktpkafoAlBaBNr6ESAE/RCKbnWpRjE89kYWJhiILFghj+iCBCQCCW2pWoWE0CeFdvqYTh/4n7llmCkt4sLD7c3cOec359xzzz1QFyta82UKpbq+vulWtaahoOhKfmFpYUl5abkiZRSXylWaBrVSUylXZhdczSq5SRVXqAf6e4dev3r54vnjwUd9fb0P7g90d3fl5V3OybmUm5uDgecLF7Jut7X+3tmZ/TAxNjg4MNCfXVxDtbXfmZ+fm5mZmf44PTExMTU1NTk5OT4+Pjw8PDIyMjo6OoK/0bGhoTerq6tHR0d2p2v585f3z56WlF2jDMZ7eBWNxhKJBB4OePH7/REIy4ZCIYZhQsFQOBxmWRbPmGH2de6TvFJF9egNwKCDAvOvX7bl5eX19fVv39ZMJtPKysrGxsbmpmlpaWl3dzcej8MG9j9+/lDUNFIGgwFf4t1wAnWCF7yMJ+KYhWUsFiPO8fx9y6JQ1Utg/GJsxO5jNuzMTw9jdjI2D/PdzS0PAkyU04vgmgaEbRR75tQRNhzhZmGEGVZQJ2Grpep02IJE2fRCYKt1S6WupYwZYPZvsFpTm9Hz/4Y1lNGYCkej0fPAKnVdGs9Qi5cpQQlHpay9QfX09Ihh6Hw+H8ozGAwiBJqmvV6vOJakZw5uBqwXYBgFAgGQYFDVZHl4eJgWroZnvV4v9gw/brfb5XKBRz2eBV+Xwpg9Hg9gXCx4BowoMoWd6hkK4hZXJ8qLnwZ8kAFuTvXsdDrhlliThAnLjDC55Zj39vaETWJGzg+xhXDY6XAgInxdErY42xD4wbbFZ4st4BMgyXsBVtUdnzPpMjTt397eRobIFogplvv7+1ar1Wazka7EwRYzl23imWTI4XCgAbndHuSZ1Bms7XY7ErG2tma2WE7gLXO1UCSkIjGgpmmcbuA4PRGcFraP7oQOBQM0u5OEkbCZ42zTvAR5Ic75TprcRWqRoHuKjyogEgFOc6uS2ZbCxCdIPCMLMM0Eq+paKL1B0gAFtwieZBuX7Az43mmYz1mQvEQg6WHuYog8I04UCeoBFU7u8xlh8xdDCiNanCpChRGWOP9MYZPaluyZnBYpOGKaKWweNhjPboApSwlsOAWfq/Wevs//CDdR3dLueX5YqWlMekaGIucTWMJ+y2JWwbNOp8P/btwYkhsisaTEhVlQgQdsMm2WK2ooWZl8/N1bFJSPFxwM+sHs7OzCwsL8sSwuLrpdbjpAE5sDr/fJ4MM8WRVVIG8sKq1oa2vXdd7VIgxdp1bX2dGh5Yb2ZIaKjM67Xc3NLQWySplG+wfL6PF9Fh8idQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cu-datepicker\"\n        title=\"cu-datepicker\"\n        src=\"/static/f73cb836d7a74671adda62f30c563e7a/a3e09/cu-datepicker.png\"\n        srcset=\"/static/f73cb836d7a74671adda62f30c563e7a/12f09/cu-datepicker.png 148w,\n/static/f73cb836d7a74671adda62f30c563e7a/e4a3f/cu-datepicker.png 295w,\n/static/f73cb836d7a74671adda62f30c563e7a/a3e09/cu-datepicker.png 305w\"\n        sizes=\"(max-width: 305px) 100vw, 305px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>해당 화면처럼 나온다.<br>\n(버튼은 위치는 위로 올렸다. 스샷 다시 찍기 귀찮음..)  </p>\n<p>모양은 나오지만 우리가 원하는 건 아이폰처럼 하단에 적절한 크기와<br>\n모양으로 나타나길 원한다.<br>\n이제 위치와 크기를 수정 해보자.  </p>\n<p>우리는 date picker 를 scaffold 에서 제공하는 bottom sheet 에서\n나타나도록 별도로 수정 할 것이다.</p>\n<p>그리고 해당 bottom sheet 의 높이를 설정하고,<br>\ndate-picker 내부의 width 를 제한 할 것이다.  </p>\n<p>(이는 landscape 레이아웃 에서의 문제 때문이다.<br>\n뒤에서 설명 할 것 이다.)</p>\n<p>그럼 크게 Todo 를 정리해보자.</p>\n<ul>\n<li>버튼으로 bottom modal sheet 를 Toggle 할 수 있어야 한다.</li>\n<li>Date Picker 는 Cancel, Done 라는 별도의 컨트롤 버튼이 존재한다.</li>\n<li>Date Picker 가 나타내는 시각은 한국 시간에 맞춘다.</li>\n</ul>\n<h3>버튼으로 BottomModal 컨트롤</h3>\n<p>showModalBottomSheet 같은 경우 Future<void> 를 반환한다.<br>\nWidget 이 아니라 Future 를 반환 하기 때문에 뭔가 버튼이나 제스처에<br>\n연결 시켜 사용해야 편하니 기존 버튼을 별도로 export 하여 만들자.  </p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">class _BuildButton extends StatelessWidget {\n  const _BuildButton({\n    Key key,\n    @required this.showPicker,\n  }) : super(key: key);\n\n  final Function(BuildContext context) showPicker;\n\n  @override\n  Widget build(BuildContext context) {\n    return CupertinoButton(\n      child: Text(\n        &#39;OPEN DATE PICKER&#39;,\n      ),\n      onPressed: () {\n        showPicker(context);\n      },\n    );\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>간단하게 버튼을 분리했다.<br>\n이제는 해당 showPicker 함수에 date picker 를 넣어주면 된다.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">    Future&lt;void&gt; showPicker(BuildContext context) {\n    return showModalBottomSheet(\n      context: context,\n      builder: (BuildContext context) {\n        return CuDatePicker();\n      },\n    );\n  }</code>\n        </deckgo-highlight-code>\n<p>Root Widget (여기서는 MyApp) 에 showPicker 함수를 만들어주자.  </p>\n<h3>Create Bottom Modal Sheet</h3>\n<p>이제 DatePicker 의 모양을 변경 해야한다. </p>\n<p>height 를 조정하고 내부 width 를 제한 할 것 이다.<br>\nheight 의 크기는 현재 스크린의 약 3/1 정도를 차지하도록 만들 것 이다.  </p>\n<p>현재 스크린의 3/1 길이..<br>\n반응형으로 생각하면 현재 디바이스 스크린의 길이를<br>\n구하는 유틸 함수를 미리 만들어 두자.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">double getHeightByPercentOfScreen(double percent,  BuildContext context) {\n  return MediaQuery.of(context).size.height * percent / 100;\n}</code>\n        </deckgo-highlight-code>\n<p>현재 스크린의 크기에서 원하는 퍼센테이지를 입력 받아 그 길이를<br>\n구하는 함수이다.<br>\n조금만 손 보면 당연히 width 길이도 구할 수 있다.</p>\n<p>그럼 hegiht 를 구했고, 내부 width 의 크기는 퍼센테이지로 구해도 되지만,<br>\n기존 모바일의 길이를 생각히면 maxwidth 를 400 으로 정했다.</p>\n<p>showPicker 함수를 수정하고 datePicker 위젯에 width 제한을 두자.</p>\n<blockquote>\n<p><code class=\"language-text\">lib/main.dart</code></p>\n</blockquote>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">  Future&lt;void&gt; showPicker(BuildContext context) {\n    return showModalBottomSheet(\n      context: context,\n      builder: (BuildContext context) {\n        return Container(\n          height: getHeightByPercentOfScreen(33.0, context),\n          child: CuDatePicker(),\n        );\n      },\n    );\n  }</code>\n        </deckgo-highlight-code>\n<blockquote>\n<p><code class=\"language-text\">lib/date_picker.dart</code></p>\n</blockquote>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">import &#39;package:flutter/cupertino.dart&#39;;\n\nclass CuDatePicker extends StatelessWidget {\n  const CuDatePicker({\n    Key key,\n    this.onDateChange,\n  }) : super(key: key);\n\n  final Function(DateTime value) onDateChange;\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      constraints: BoxConstraints(\n        maxWidth: 400.0,\n      ),\n      child: CupertinoDatePicker(\n        initialDateTime: DateTime.now(),\n        maximumDate: new DateTime.now(),\n        minimumYear: 2018,\n        maximumYear: 2020,\n        mode: CupertinoDatePickerMode.date,\n        onDateTimeChanged: onDateChange ?? (DateTime value) {},\n      ),\n    );\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>이제 한번 date-picker 를 소환해보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 303px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1990d423fd030a87dc4ffc1ea698d74d/6728c/date-picker-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 217.56756756756758%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAIAAADqwg+aAAAACXBIWXMAAAsTAAALEwEAmpwYAAADj0lEQVRIx+1W204TURQdExODoIBCy0VJRXgY7dAZSpEiEGitnSkGqy0xipWrSG3obaZgEL6AZ32TH1CjfAUJ+BtQA9iCcinQiqvn0GFQTPRVWZnu7LP3Wmfvs3syGUZp6Zh8aI08bbI57tjs9rtut+TqlFyuRqtVdHV++PjxzZuZ206xr39gZmZmNBiEPz7+4tWr148e+xjBaDbX1wvmepazsJz5Wl2DkW+EU8vynHDD5nA5pC6jyWJpanOIXdYWG8c3trbf7rr3oOFGC1NgsObp2bwLhvyLVQUlhqLymsKymiI8cPRX8y9UnS2+XKivPldqyCu+dOZ8Oezp8+VM/qVTunqm6koNbzK573Z5Pfcdjlu60pKDR1ei15VmH70OFpHyMr3U6fK6JN/NZhNvOldxnamtrYlEIiN+/8iIPxaLWZubWfaa0cgZNeA4jmXZ1ta2WGwsEAj0e7zKo4fVV6oZXhDGxsagj0ajsizDh40SqI6aon5QUaYGB/lqiHkeBWUCJIaGhh77fL29vX19fYODQz09PQMDA1j6fE+Gh58pigIafhFFQT+MIAgQ070BtDA6OhoJh6LhEGw4FMz6+AWD4XBEziGmKJwq1kbDUeVZUA6EZH9IDoRhlZGgjCCpegBFK1YrgxCKyH4ifh46sFhqqv5eTPUxBelDm3Xkn8XGX9v+Q2TFxv9PfPy0T8Qn4n9GDI++ev8c0GffJGazeWpqamJi4uXfYHJysq7OxLjd7vX19ZWVlVWCLzms5qD1KUBOJpO3HA6mu7t7f38/k8l8J0ilUpubm9vb23t7e4jDwkc8Q0A5cJASRYnxer3wdnZ2dgkSiQQ2hh4RKDc2NlB5LwfKQQp6p1M8IoaNL8UTXxKUB7u1tQUx/G8EKu14McpStlokq0mlPhPgCMeIcVSEYDEJjASkHQJQcQTUX1paisfjcCktnU4fiumEkF5YWEBxbKxut7i4COXc3Nz8/Dw9f07sPFIZRZaXl9eSSbU9AL2g8lcC2tHPYnXa4OGQGLLaNpawaYKj03YyHo9HK94gQAuwtD4K7h7FoRiXBP+7Vgz22toa9CmCJDmFSqBidCGKIiNJLnqTaGM4ENL7GtD7BEsJYMJFpL29Hd8kwuzsrDqzdCaDW46Zf9IAS9y87NYEIL9/97asooqZnp7Gx1JHR4ckSegE1mazWRosQKMGdrsdKSchgFx52VBYef0HLvqAEIIBtHIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"date-picker1\"\n        title=\"date-picker1\"\n        src=\"/static/1990d423fd030a87dc4ffc1ea698d74d/6728c/date-picker-1.png\"\n        srcset=\"/static/1990d423fd030a87dc4ffc1ea698d74d/12f09/date-picker-1.png 148w,\n/static/1990d423fd030a87dc4ffc1ea698d74d/e4a3f/date-picker-1.png 295w,\n/static/1990d423fd030a87dc4ffc1ea698d74d/6728c/date-picker-1.png 303w\"\n        sizes=\"(max-width: 303px) 100vw, 303px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>이제 어느정도 모양이 잡혔다.<br>\n하지만 아직 부족하다.  </p>\n<h3>Create Cancel, Done Buttons</h3>\n<p>날짜 선택 후 실행 될 또다른 로직을 위해<br>\n추가로 Done 버튼과 Cancel 버튼을 추가해주자.  </p>\n<p>우리는 bottom sheet 를 7:3 비율로 나눠서\n상단(3) 에 버튼을 두고,<br>\n하단(7) 에 날짜 선택을 넣을 것 이다.</p>\n<p>그러기 위해 버튼 부분의 위젯을 만들고, bottomSheet 에<br>\nColumn 위젯을 추가 할 것이다. </p>\n<p>먼저 2개의 버튼 셋이 포함 된 위젯.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">class _BuildButtonSet extends StatelessWidget {\n  const _BuildButtonSet({\n    Key key,\n    this.onPressCancel,\n    this.onPressDone,\n  }) : super(key: key);\n\n  final Function onPressCancel;\n  final Function onPressDone;\n\n  @override\n  Widget build(BuildContext context) {\n    return Row(\n      crossAxisAlignment: CrossAxisAlignment.center,\n      mainAxisAlignment: MainAxisAlignment.spaceBetween,\n      children: [\n        CupertinoButton(\n          child: Text(\n            &#39;Cancel&#39;,\n            style: TextStyle(\n              color: Colors.red,\n            ),\n          ),\n          onPressed: onPressCancel ??\n              () {\n                Navigator.pop(context);\n              },\n        ),\n        CupertinoButton(\n          child: Text(\n            &#39;Done&#39;,\n          ),\n          onPressed: onPressCancel ??\n              () {\n                Navigator.pop(context);\n              },\n        ),\n      ],\n    );\n  }\n}</code>\n        </deckgo-highlight-code>\n<p>Cancel 과 Done , 2개의 버튼을 가진 위젯이 완성 되었으니<br>\n이제 DatePicker 와 합치기 위해 showPicker 함수를 수정하자.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">    Future&lt;void&gt; showPicker(BuildContext context) {\n    return showModalBottomSheet(\n      context: context,\n      builder: (BuildContext context) {\n        return Container(\n          height: getHeightByPercentOfScreen(33.0, context),\n          child: Column(\n            children: [\n              Expanded(\n                flex: 3,\n                child: _BuildButtonSet(),\n              ),\n              Expanded(\n                flex: 7,\n                child: CuDatePicker(),\n              )\n            ],\n          ),\n        );\n      },\n    );\n  }</code>\n        </deckgo-highlight-code>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 318px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0465e1a5b1a06acbd2866f546e6c3522/cd2d9/date-picker-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 212.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqCAIAAAA8m+yHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEpklEQVRIx6WV2U9bRxSHpxIQoCze9w1jYzBLSqJSCqEyi222go2NbYQFAZyFzdi+Jly7UR+iKFJf2qc8VlUrFAhNbQhu1f+heWlSBam0qQSlINaAwIDZeu69sYuiNnXdo9HRzJnfN+ec0Vwb6WoNgw2Gm336JmPHB/WWemNXXUuntqWzvLpV22q///nk7buf1TTZHEP4nU/uGzquN7f3+u98esN1+4rWiCordDZNvdVSq9EbyzQtlXXGKp3pirattEJfUWf0fHSv3/Pxe5oWS9fgCH5X32qvbrB4/Pd6+r2XK7QoQ65JEl5OylamZEtT6dJMdm4Whxg0vjKLq0jJFl2gibM4inSGLCmDn5IpTKaJURr3rey8ZMG7iKbS8kSKyopyvV5XW1srFotYLBYHjM2GwSUNVhDMkUlrdbrmsjLNpVK6SJEsrERM6SW9tvrWrTFHnwPHcZ1OJ5fLVSpV3jmDZa5c3tjYiPt8vXa7u6OjsfL9VH4xYkuLbdb2MRx3Op0ej2d0dNTtdrvARkj3yo9AELY8bjeIcMzbpal6m5+P2LKL1nYTHAmk1+vt7+/v6uru6r7a09PrcDg67fa+vr7u7qsQHBoaAgHwIDaZDBm8fMSRqK0WM44TMIZh4CERpAYRDCiCmHiIWigBLHw+X3sbCfPFcqvFAt1Se14Mc3kwxzB2cxi7PozdcGLXhrFrQ0QQtqjTIbMZMkPZXFnR+czkNuZ0YU434UdIDyO6eR4uQDxpvtXSfh4m8nujIzqPmYcs29xmhIeAhJJcEsbPw28wCja1GZmCXMQTSqxWSwIwA2B4SFarNQGYJVQgHo+fEGxgCPMQNyHY3GagiQoRTyBOoGcCFqoRk8Wx2awJwgwmy2azJVg2jcZIDKaLixCbw0vswuj/98ISL1ukRlzJ33wY8cI8eclrn2ScMENciISK0tjP0H+GBQBbzD6/n/yM/91A5vf7zSYjBb9jNLTAT9TAwMBgHAYyl8vd+mETg7iwnGI/PhYIBMfHxx/EYSALBqe9mDuTp0QsccH334XOzs6Oj4/P4rCjoyPw3zyaSmPmIKZIFQoGzjY39n6dP9zZOYxEDt9ov6zurUbOJiYepDFliAXw7Awcth8OR+KwcDgM4qlJEmYIFKHZxwS8vx9TQIZ/gvcp+OFEKkOCGPzcGAz97OzsrK+vUwfBcnd3d2trCyax46KZAZa+Dm9ubq6trR1GXkkhCMeBX15e3tjYAEH4r8xSRI/CYbJnKvPe3l4kenMwh/yLi4vEoeSSgi/QRIjGk1PwwcEB8M+e/bSwsHByckLVCcHV1dWlpaUfnjx5PjcHS6giCgsQjSuLZQZbWVmheo7B0AhVDjQPQarsh9AzZM7myL4NzcIa6qH2QLq9vQ2TfdJevnwJceiWOosq++upyTS6CKXR+MHAI1hHyKcDOlCAlHpwp6enEKEmhEVf2FdffpGSJUAZHGVzU8Pc3PM/lpZ+X1wEPz//88zM9HQw+HgGbDoQCIRCod9evIgJnj79saamOp2Th+g55elMCfzdqYsuFqhLCgpLwCvzC5UqtVJF+DxyTsTJATIOX5TOlDGVVX8C0GX10bqJquoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"date-picker2\"\n        title=\"date-picker2\"\n        src=\"/static/0465e1a5b1a06acbd2866f546e6c3522/cd2d9/date-picker-2.png\"\n        srcset=\"/static/0465e1a5b1a06acbd2866f546e6c3522/12f09/date-picker-2.png 148w,\n/static/0465e1a5b1a06acbd2866f546e6c3522/e4a3f/date-picker-2.png 295w,\n/static/0465e1a5b1a06acbd2866f546e6c3522/cd2d9/date-picker-2.png 318w\"\n        sizes=\"(max-width: 318px) 100vw, 318px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>이제 원하는 date picker 가 완성되었다.<br>\n여기서 추가로 디자인이나 크기를 원하는 상태로 수정 하면 된다.<br>\n로직은 onPressCancel, onPressDone, onDateChange 에<br>\n적절히 넣어서 사용하면 된다.</p>\n<h3>Localization</h3>\n<p>마지막으로 DatePicker 에 나오는 시간을 한국 시간으로 변경해보자.<br>\nlocalization 을 하기 위해 pubspec.yaml 에서 flutter_localizations 을 추가하자.  </p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">...\n  dependencies:\n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n...</code>\n        </deckgo-highlight-code>\n<p>그리고 main.dart 의 MaterailApp 에서\nlocalization 관련 코드를 추가하자.</p>\n<deckgo-highlight-code language=\"javascript\"  >\n          <code slot=\"code\">      return MaterialApp(\n      localizationsDelegates: [\n        GlobalMaterialLocalizations.delegate,\n        GlobalWidgetsLocalizations.delegate,\n        GlobalCupertinoLocalizations.delegate,\n      ],\n      supportedLocales: [\n        const Locale(&#39;ko&#39;, &#39;KO&#39;),\n        const Locale(&#39;en&#39;, &#39;US&#39;),\n      ],\n      home: ...</code>\n        </deckgo-highlight-code>\n<p>이제 앱을 리셋 시키고 다시 date picker 를 열어보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 332px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9587a509bb2d72e7475d6993dc1e5192/f8dc5/date-picker-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 205.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAApCAIAAAC6D54pAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFC0lEQVRIx52U21MTdxTHdzpD6yhVkr0mu5vNbTcXAgZaAUUuEhEI3qjtDKOwibQSciOQi8EnfCi9vGm99H+ore1DR+tDW0RRkPLqi32sYKioJBESCKQnG6DqjDJw5pff/nJ+55Pv75zf5iCW8rp9lbWV1futlfXWirqyyvrSPbUwLOXVdYeOHv1MrNjfuGd/o62lrfqA/aO9DTUHD8MoragvUNUijR9XnWuu6f98T3NTc0NDQ2trq91ut9lslZVVPp/v+k8/tre3t7Udv3jhQiAQaGpqOj84+O03Xx9osBUw+xCKr1LoyxUaC8mZKM6s1BQrtcUwKzTFjK6UE8pgpnUWTrCyuhJKbWYFq8ZUQWjLC9hapFB/qJAUWI2gN1hYNY8SSoykMZKBIcdpGaYAD0rQRXJSqdLp1TynVL0vV79HVRWobQiqrair2ef3eb0eNwyB11MkQSso5dqg4UMSOq3G4/P6u7qCn544WFO9gy7ZprcjOFfiFDsikajH44lEIjA7nc7Tkr26cLvd4XDY2xsI+Py9rS1yJb+NtyOUZrfYcTI6MAB7/f39LpfrzJnunh63q9vldnu6u7tdrh7J0xMMBsOh0MC5c87OUzhjyClTmhKx8xTAsBcKhbw+H8T5/T6f1yNN7l5IyePxer2wCzFnz0a7Tjsw1rgdlGm1UezsiEZX4Ug4HAhG3IGwty/s6Qv7+3Pr3mAYMsrD0Wi0yykCvENoRZTa15TBevuDnkDQFwh6A0F/ILfu7VvdWodx1lRoOAKw5Q04nNNfHeH8HAq9DjtIVthpPIywWvMb8Lq9+X0NPu10KFR8kQmUGY0odq7n/G57DTYfQUiScjgc4NoczPF46TFEqaRFUdwkLCo4I2FtA5jZAkxyZrT0OKKgVVLOm4VNaMkxBMPJzecswbvbEBQjNgkPAAx/bNz6CYKi+BaUKXUxUXYCoZmt5ExxptxVEaRiS9U2YSVHEZykHQ5xi8pKbenb3u135mwm4SVh+LJOqZNs7g3Lw6xQvgU4V+2cst566mQ7dAro6X0bGcRAq3N0duSOvVuCXd1fDA19NTg4eH4jg5gvh4agsZEqI1YstaHbw39ks9n4y40tmUhA5Pj9Uag2ZmmF7mm5B/CL56mpfzKLi5m32FIms7Kc+TeRnk5lxx5MUJwRM7cgkProyDD83kI8vphOL77TkvOpTDY78WCcUuVhzjR6dyQHpzYgwdKpFET+NTFOqgyY+RACj1V4YeHVuKWlpUQiMTs7m0qlY7GZRCIOHoj5Hy5uBmXjOgzbyWTyiWTpdBoAWIDezMzM8+cvIPE1+AHJGlCjDYFHHp6fnwfBeDw+NTX1+PFjiJubm5uampacc8+ePYPFujLB8jKhHiEYYR0G5UeP/p6cnBwbG5uefvL06ezY+Dgw4Hz48CHUHGLyygSjl/F1CE7zo3dWYTgqKL+QLJVKwcXGYjFwwuFjT2Lw03kYqk2yPGqwITijv39vNA8DsChd9crKyvLyMmDghDWULX/sPDw5OUGpBLnhAFKIMrdu3gAXMFnJJAyqnVlYSEH9wJ9MvkxJl5SPGf7z9124CoOCfagwNjYevHnj17t3RkZuD98bvfvLz9cvfXfx+6tXrly+dOXyZVhfu/ZDfvfOyO1bv920tzTvIAQUCibT7d2GabfvIuQEK8OVRRiNkizF6ChGuzZrMQUnw+kinJYTzPad+AcyTs7XEObG/wBHBqIYKvEfDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"date-picker3\"\n        title=\"date-picker3\"\n        src=\"/static/9587a509bb2d72e7475d6993dc1e5192/f8dc5/date-picker-3.png\"\n        srcset=\"/static/9587a509bb2d72e7475d6993dc1e5192/12f09/date-picker-3.png 148w,\n/static/9587a509bb2d72e7475d6993dc1e5192/e4a3f/date-picker-3.png 295w,\n/static/9587a509bb2d72e7475d6993dc1e5192/f8dc5/date-picker-3.png 332w\"\n        sizes=\"(max-width: 332px) 100vw, 332px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>한글로 변경 된 picker 를 볼 수 있다.<br>\n여기서 만약 한글로 변경 되지 않는다면 해당 모바일 폰의 설정 에서<br>\n지역과 언어를 한국으로 변경해보자.</p>\n<p>추가로 DateTime 설정에 관해서 쓸 내용도 있지만 이는 별도로<br>\n글을 써서 정리를 해보겠다.  </p>\n<p>위 예제의 전체 코드 </p>\n<p>github repo: <a href=\"https://github.com/WillowRyu/flutter-cupertino-datepicker\" target=\"_blank\">https://github.com/WillowRyu/flutter-cupertino-datepicker</a></p>\n<p>출처: 내 머리..</p>","frontmatter":{"title":"Flutter Cupertino Date Picker","date":"July 03, 2020","description":"간단한 Custom Cupertino Date Picker"}}},"pageContext":{"slug":"/2020-07-03/","previous":{"fields":{"slug":"/2020-07-02/"},"frontmatter":{"title":"Flutter Multi Device Debugging"}},"next":{"fields":{"slug":"/2020-08-11/"},"frontmatter":{"title":"Flutter Environments Setting"}}}},"staticQueryHashes":["2841359383","3490846071"]}